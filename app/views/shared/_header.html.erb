<nav class="navbar navbar-expand-md navbar-light bg-light">

  <button class="navbar-toggler"
    type="button"
    data-toggle="collapse"
    data-target="#bs-navi"
    aria-controls="bs-navi"
    aria-expanded="false"
    aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class ="collapse navbar-collapse" id="bs-navi">
    <ul class="navbar-nav">
      <%= menu_link_to "TOP", :root, class: "nav-item nav-link" %>
      <%= menu_link_to "投稿", :posts, class: "nav-item nav-link" %>
      <%= menu_link_to "ユーザー", :users, class: "nav-item nav-link" %>
    </ul>
  </div>

  <div>
    <% if current_user %>
      <div class="btn-group">
        <button type="button"
            class="btn dropdown-toggle dropdown-toggle-split"
            id="navbarDropdown"
            role="button"
            data-toggle="dropdown"
            aria-haspopup="true"
            aria-expanded="false">
            <%= current_user.name + "さん" %>
          </button>
          <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown">
            <%= dropdown_link_to "アカウントの情報", :account, class: "dropdown-item" %>
            <%= dropdown_link_to "アカウントの編集", :edit_account, class: "dropdown-item" %>
            <%= dropdown_link_to "パスワードの変更", :edit_password, class: "dropdown-item" %>
            <%= dropdown_link_to "アカウントを削除", :account, method: :delete, data: { confirm: "本当に削除しますか？"}, class: "dropdown-item" %>
            <%= dropdown_link_to "ログアウト", :session, method: :delete, data: { confirm: "ログアウトしますか？" }, class: "dropdown-item" %>
          </ul>
        </div>
    <% else %>
      <ul class="navbar-nav d-flex flex-row">
        <li class="nav-item mr-3">
          <%= link_to "新規登録", :new_user, class: "nav-link" %>
        </li>
        <li class="nav-item">
          <%= link_to "ログイン", :login_form_users, class: "nav-link" %>
        </li>
      </ul>
    <% end %>
  </div>
</nav>
